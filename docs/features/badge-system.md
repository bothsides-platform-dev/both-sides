# ë±ƒì§€ ì‹œìŠ¤í…œ (Badge System)

## ê°œìš”

BothSides í”Œë«í¼ì˜ ë±ƒì§€ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìì˜ í™œë™ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•˜ê³  ì°¸ì—¬ë¥¼ ìœ ë„í•˜ëŠ” ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ íˆ¬í‘œ, ì˜ê²¬ ì‘ì„±, í† ë¡  ê°œì„¤, ë¦¬ì•¡ì…˜ ë“±ì˜ í™œë™ì„ ì¶”ì í•˜ì—¬ ìë™ìœ¼ë¡œ ë±ƒì§€ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤.

## íŠ¹ì§•

- **DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ìŒ**: ê¸°ì¡´ í™œë™ ë°ì´í„°ë¡œ ì‹¤ì‹œê°„ ê³„ì‚°
- **5ê°œ ì¹´í…Œê³ ë¦¬**: íˆ¬í‘œ, ì˜ê²¬, í† ë¡ , ì°¸ì—¬, ì¢…í•© í™œë™
- **14ê°œ ë±ƒì§€**: Bronze â†’ Silver â†’ Gold â†’ Platinum í‹°ì–´ ì‹œìŠ¤í…œ
- **ì§„í–‰ë¥  ì¶”ì **: ë‹¤ìŒ ë±ƒì§€ê¹Œì§€ì˜ ì§„í–‰ë¥  í‘œì‹œ
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ìµœì í™”
- **í† ìŠ¤ì¦ê¶Œ ìŠ¤íƒ€ì¼**: ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒì˜ í˜„ëŒ€ì ì¸ ë””ìì¸

## ë±ƒì§€ ëª©ë¡

### 1. íˆ¬í‘œ í™œë™ (Voting)

| ë±ƒì§€ | ì¡°ê±´ | í‹°ì–´ | ì•„ì´ì½˜ |
|------|------|------|--------|
| ì²« íˆ¬í‘œ | 1ê°œ ì´ìƒ íˆ¬í‘œ | Bronze | ğŸ—³ï¸ |
| íˆ¬í‘œëŸ¬ | 10ê°œ ì´ìƒ íˆ¬í‘œ | Silver | âœ… |
| íˆ¬í‘œ ë§¤ë‹ˆì•„ | 50ê°œ ì´ìƒ íˆ¬í‘œ | Gold | ğŸ¯ |
| íˆ¬í‘œì™• | 100ê°œ ì´ìƒ íˆ¬í‘œ | Platinum | ğŸ‘‘ |

### 2. ì˜ê²¬ ì‘ì„± (Opinion)

| ë±ƒì§€ | ì¡°ê±´ | í‹°ì–´ | ì•„ì´ì½˜ |
|------|------|------|--------|
| ì²« í•œë§ˆë”” | 1ê°œ ì´ìƒ ì˜ê²¬ | Bronze | ğŸ’¬ |
| ë…¼ê° | 10ê°œ ì´ìƒ ì˜ê²¬ | Silver | ğŸ¤ |
| í† ë¡ ì™• | 50ê°œ ì´ìƒ ì˜ê²¬ | Gold | ğŸ† |
| ì„¤ë“ì˜ ë‹¬ì¸ | 100ê°œ ì´ìƒ ì˜ê²¬ | Platinum | ğŸ“ |

### 3. í† ë¡  ê°œì„¤ (Topic)

| ë±ƒì§€ | ì¡°ê±´ | í‹°ì–´ | ì•„ì´ì½˜ |
|------|------|------|--------|
| ì²« í† ë¡  ê°œì„¤ | 1ê°œ ì´ìƒ í† ë¡  | Bronze | ğŸ“ |
| ì´ìŠˆ ë©”ì´ì»¤ | 5ê°œ ì´ìƒ í† ë¡  | Silver | ğŸ“¢ |
| íŠ¸ë Œë“œì„¸í„° | 20ê°œ ì´ìƒ í† ë¡  | Gold | ğŸŒŸ |

### 4. ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ (Engagement)

| ë±ƒì§€ | ì¡°ê±´ | í‹°ì–´ | ì•„ì´ì½˜ |
|------|------|------|--------|
| ë¦¬ì•¡ì…˜ ìš”ì • | 10ê°œ ì´ìƒ ë¦¬ì•¡ì…˜ | Silver | âœ¨ |
| ê³µê°ì™• | 50ê°œ ì´ìƒ ë¦¬ì•¡ì…˜ | Gold | â¤ï¸ |

### 5. ì¢…í•© í™œë™ (All-Around)

| ë±ƒì§€ | ì¡°ê±´ | í‹°ì–´ | ì•„ì´ì½˜ |
|------|------|------|--------|
| ì˜¬ë¼ìš´ë” | íˆ¬í‘œ 1ê°œ + ì˜ê²¬ 1ê°œ + í† ë¡  1ê°œ + ë¦¬ì•¡ì…˜ 1ê°œ | Gold | ğŸ–ï¸ |

## ì•„í‚¤í…ì²˜

```mermaid
flowchart TB
    subgraph data[ê¸°ì¡´ ë°ì´í„°]
        votes[íˆ¬í‘œ ìˆ˜]
        opinions[ì˜ê²¬ ìˆ˜]
        topics[í† ë¡  ìˆ˜]
        reactions[ë¦¬ì•¡ì…˜ ìˆ˜]
    end

    subgraph engine[ë±ƒì§€ ì—”ì§„]
        compute[computeBadges]
        progress[computeBadgeProgress]
    end

    subgraph api[API Layer]
        profileAPI[GET /api/profile]
        publicAPI[GET /api/users/:id]
    end

    subgraph ui[UI Components]
        userBadges[UserBadges]
        showcase[BadgeShowcase]
    end

    data --> compute
    data --> progress
    compute --> profileAPI
    compute --> publicAPI
    progress --> profileAPI
    profileAPI --> userBadges
    profileAPI --> showcase
    publicAPI --> userBadges
```

## íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ badges.ts                    # ë±ƒì§€ ì—”ì§„ (ì •ì˜, ê³„ì‚° ë¡œì§)
â”œâ”€â”€ components/
â”‚   â””â”€â”€ badges/
â”‚       â”œâ”€â”€ UserBadges.tsx           # ë±ƒì§€ í‘œì‹œ ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ BadgeShowcase.tsx        # ì „ì²´ ë±ƒì§€ ì‡¼ì¼€ì´ìŠ¤
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ profile/route.ts         # ë‚´ í”„ë¡œí•„ API
â”‚   â”‚   â””â”€â”€ users/[id]/route.ts      # ê³µê°œ í”„ë¡œí•„ API
â”‚   â”œâ”€â”€ profile/page.tsx             # ë‚´ í”„ë¡œí•„ í˜ì´ì§€
â”‚   â””â”€â”€ users/[id]/page.tsx          # ê³µê°œ í”„ë¡œí•„ í˜ì´ì§€
â””â”€â”€ components/ui/
    â””â”€â”€ progress.tsx                 # ì§„í–‰ë¥  ë°” ì»´í¬ë„ŒíŠ¸
```

## í•µì‹¬ í•¨ìˆ˜

### `computeBadges(stats: UserActivityStats): EarnedBadge[]`

ì‚¬ìš©ìì˜ í™œë™ í†µê³„ë¥¼ ë°›ì•„ íšë“í•œ ë±ƒì§€ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

**Parameters:**
```typescript
interface UserActivityStats {
  votesCount: number;
  opinionsCount: number;
  topicsCount: number;
  reactionsCount: number;
}
```

**Returns:**
```typescript
interface EarnedBadge {
  id: string;
  name: string;
  description: string;
  icon: string;
  category: BadgeCategory;
  tier: BadgeTier;
}
```

**Example:**
```typescript
const stats = {
  votesCount: 15,
  opinionsCount: 5,
  topicsCount: 2,
  reactionsCount: 8
};

const badges = computeBadges(stats);
// Returns: [ì²« íˆ¬í‘œ, íˆ¬í‘œëŸ¬, ì²« í•œë§ˆë””, ì²« í† ë¡  ê°œì„¤]
```

### `computeBadgeProgress(stats: UserActivityStats): BadgeProgress[]`

ëª¨ë“  ë±ƒì§€ì— ëŒ€í•œ ì§„í–‰ë¥ ì„ ê³„ì‚°í•©ë‹ˆë‹¤ (íšë“/ë¯¸íšë“ ëª¨ë‘ í¬í•¨).

**Returns:**
```typescript
interface BadgeProgress extends EarnedBadge {
  earned: boolean;
  progress: {
    current: number;
    target: number;
    percentage: number;
  };
}
```

**Example:**
```typescript
const progress = computeBadgeProgress(stats);
// Returns all badges with progress info:
// [
//   { id: "first-vote", earned: true, progress: { current: 15, target: 1, percentage: 100 } },
//   { id: "voter", earned: true, progress: { current: 15, target: 10, percentage: 100 } },
//   { id: "vote-enthusiast", earned: false, progress: { current: 15, target: 50, percentage: 30 } },
//   ...
// ]
```

### `getNextBadge(stats: UserActivityStats): BadgeProgress | null`

ë‹¤ìŒ íšë“ ê°€ëŠ¥í•œ ë±ƒì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤ (ì§„í–‰ë¥ ì´ ê°€ì¥ ë†’ì€ ë¯¸íšë“ ë±ƒì§€).

**Example:**
```typescript
const nextBadge = getNextBadge(stats);
// Returns: { id: "vote-enthusiast", ..., progress: { percentage: 30 } }
```

### `getBadgeTierColors(tier: BadgeTier): TierColors`

ë±ƒì§€ í‹°ì–´ì— ë§ëŠ” Tailwind ìƒ‰ìƒ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

**Returns:**
```typescript
interface TierColors {
  bg: string;        // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
  text: string;      // í…ìŠ¤íŠ¸ ìƒ‰ìƒ
  border: string;    // í…Œë‘ë¦¬ ìƒ‰ìƒ
}
```

**Example:**
```typescript
const colors = getBadgeTierColors(BadgeTier.GOLD);
// Returns: {
//   bg: "bg-gradient-to-r from-amber-400 to-yellow-500",
//   text: "text-amber-900 dark:text-amber-950",
//   border: "border-amber-400"
// }
```

## ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²•

### UserBadges

ì‚¬ìš©ìê°€ íšë“í•œ ë±ƒì§€ë¥¼ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

```tsx
import { UserBadges } from "@/components/badges/UserBadges";

<UserBadges 
  badges={earnedBadges}
  maxDisplay={4}      // ìµœëŒ€ í‘œì‹œ ê°œìˆ˜ (ê¸°ë³¸: 4)
  compact={true}      // ì»´íŒ©íŠ¸ ëª¨ë“œ (ê¸°ë³¸: true)
  className="mt-4"
/>
```

**Props:**
- `badges: EarnedBadge[]` - íšë“í•œ ë±ƒì§€ ëª©ë¡
- `maxDisplay?: number` - ìµœëŒ€ í‘œì‹œ ê°œìˆ˜ (ì´ˆê³¼ì‹œ "+N" í‘œì‹œ)
- `compact?: boolean` - ì»´íŒ©íŠ¸ ëª¨ë“œ ì—¬ë¶€
- `className?: string` - ì¶”ê°€ CSS í´ë˜ìŠ¤

**Features:**
- Tooltipìœ¼ë¡œ ë±ƒì§€ ì„¤ëª… í‘œì‹œ
- Hover ì‹œ í™•ëŒ€ íš¨ê³¼
- í‹°ì–´ë³„ ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒ
- ë‹¤í¬ëª¨ë“œ ì§€ì›

### BadgeShowcase

ì „ì²´ ë±ƒì§€ ëª©ë¡ì„ ëª¨ë‹¬ë¡œ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

```tsx
import { BadgeShowcase } from "@/components/badges/BadgeShowcase";

<BadgeShowcase 
  stats={{
    votesCount: 15,
    opinionsCount: 5,
    topicsCount: 2,
    reactionsCount: 8
  }}
  trigger={<Button>ì „ì²´ ë±ƒì§€ ë³´ê¸°</Button>}  // ì„ íƒì‚¬í•­
/>
```

**Props:**
- `stats: UserActivityStats` - ì‚¬ìš©ì í™œë™ í†µê³„
- `trigger?: React.ReactNode` - ëª¨ë‹¬ì„ ì—¬ëŠ” ì»¤ìŠ¤í…€ íŠ¸ë¦¬ê±° (ì„ íƒì‚¬í•­)

**Features:**
- ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê·¸ë£¹í™”ëœ ë±ƒì§€ ëª©ë¡
- íšë“í•œ ë±ƒì§€: í’€ ì»¬ëŸ¬ + ì²´í¬ ë§ˆí¬
- ë¯¸íšë“ ë±ƒì§€: íë¦¼ + ìë¬¼ì‡  ì•„ì´ì½˜
- ì§„í–‰ë¥  ë°” + ë™ê¸°ë¶€ì—¬ ë©”ì‹œì§€
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼ 1ì—´, ë°ìŠ¤í¬í†± 2ì—´)

## API ì‘ë‹µ í˜•ì‹

### GET /api/profile (ë‚´ í”„ë¡œí•„)

```json
{
  "data": {
    "votes": [...],
    "opinions": [...],
    "topics": [...],
    "votesCount": 15,
    "opinionsCount": 5,
    "topicsCount": 2,
    "reactionsCount": 8,
    "badges": [
      {
        "id": "first-vote",
        "name": "ì²« íˆ¬í‘œ",
        "description": "ì²« ë²ˆì§¸ íˆ¬í‘œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤",
        "icon": "ğŸ—³ï¸",
        "category": "VOTING",
        "tier": "BRONZE"
      },
      ...
    ],
    "badgeProgress": [
      {
        "id": "first-vote",
        "name": "ì²« íˆ¬í‘œ",
        "description": "ì²« ë²ˆì§¸ íˆ¬í‘œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤",
        "icon": "ğŸ—³ï¸",
        "category": "VOTING",
        "tier": "BRONZE",
        "earned": true,
        "progress": {
          "current": 15,
          "target": 1,
          "percentage": 100
        }
      },
      ...
    ]
  }
}
```

### GET /api/users/:id (ê³µê°œ í”„ë¡œí•„)

```json
{
  "data": {
    "user": { ... },
    "votes": [...],
    "opinions": [...],
    "topics": [...],
    "reactions": [...],
    "votesCount": 10,
    "opinionsCount": 3,
    "topicsCount": 1,
    "reactionsCount": 5,
    "badges": [
      {
        "id": "voter",
        "name": "íˆ¬í‘œëŸ¬",
        "description": "10ê°œ ì´ìƒì˜ í† ë¡ ì— íˆ¬í‘œí–ˆìŠµë‹ˆë‹¤",
        "icon": "âœ…",
        "category": "VOTING",
        "tier": "SILVER"
      },
      ...
    ]
  }
}
```

## ë””ìì¸ ê°€ì´ë“œ

### í‹°ì–´ ìƒ‰ìƒ

```typescript
// Platinum (ìµœê³  ë“±ê¸‰)
bg: "bg-gradient-to-r from-cyan-500 to-blue-500"
text: "text-white"
border: "border-cyan-400"

// Gold (ê³ ê¸‰)
bg: "bg-gradient-to-r from-amber-400 to-yellow-500"
text: "text-amber-900 dark:text-amber-950"
border: "border-amber-400"

// Silver (ì¤‘ê¸‰)
bg: "bg-gradient-to-r from-slate-300 to-slate-400"
text: "text-slate-900"
border: "border-slate-400"

// Bronze (ê¸°ë³¸)
bg: "bg-gradient-to-r from-orange-500 to-orange-600"
text: "text-white"
border: "border-orange-500"
```

### ë°˜ì‘í˜• ë””ìì¸

```tsx
// í”„ë¡œí•„ í—¤ë”ì—ì„œì˜ ë±ƒì§€ í‘œì‹œ
<div className="flex flex-wrap items-center gap-2">
  <UserBadges badges={badges} maxDisplay={4} />
  <BadgeShowcase stats={stats} />
</div>

// ëª¨ë°”ì¼: ê°€ë¡œ ìŠ¤í¬ë¡¤ ë˜ëŠ” ì¤„ë°”ê¿ˆ
// ë°ìŠ¤í¬í†±: í•œ ì¤„ì— í‘œì‹œ
```

### ì ‘ê·¼ì„±

- **Tooltip**: ë±ƒì§€ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ìƒì„¸ ì„¤ëª… í‘œì‹œ
- **Aria Labels**: ìŠ¤í¬ë¦° ë¦¬ë”ë¥¼ ìœ„í•œ ì ì ˆí•œ ë¼ë²¨
- **í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜**: Tab í‚¤ë¡œ ëª¨ë“  ìš”ì†Œ ì ‘ê·¼ ê°€ëŠ¥
- **ìƒ‰ìƒ ëŒ€ë¹„**: WCAG AA ê¸°ì¤€ ì¶©ì¡±

## ì„±ëŠ¥ ìµœì í™”

### ê³„ì‚° ë°©ì‹

ë±ƒì§€ëŠ” ìš”ì²­ ì‹œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°ë˜ì§€ë§Œ, ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤:

```typescript
// O(n) complexity where n = number of badge definitions (14)
export function computeBadges(stats: UserActivityStats): EarnedBadge[] {
  return BADGE_DEFINITIONS.filter((badge) => badge.requirement(stats))
    .map(badge => ({ ...badge }));
}
```

### ìºì‹± ì „ëµ

**í´ë¼ì´ì–¸íŠ¸ ì¸¡:**
- SWRì„ í†µí•œ ìë™ ìºì‹± ë° ì¬ê²€ì¦
- í”„ë¡œí•„ í˜ì´ì§€: `/api/profile` ì—”ë“œí¬ì¸íŠ¸ ìºì‹œ
- ê³µê°œ í”„ë¡œí•„: `/api/users/:id` ì—”ë“œí¬ì¸íŠ¸ ìºì‹œ

**ì„œë²„ ì¸¡:**
- í™œë™ ì¹´ìš´íŠ¸ëŠ” ì´ë¯¸ ì¸ë±ì‹±ëœ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
- Promise.all()ë¡œ ë³‘ë ¬ ì¿¼ë¦¬ ì‹¤í–‰

### ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬

```typescript
// ê¸°ì¡´ í™œë™ ì¹´ìš´íŠ¸ ì¿¼ë¦¬ (ì¸ë±ì‹±ë¨)
const [votesCount, opinionsCount, topicsCount, reactionsCount] = await Promise.all([
  prisma.vote.count({ where: { userId: user.id } }),
  prisma.opinion.count({ where: { userId: user.id } }),
  prisma.topic.count({ where: { authorId: user.id } }),
  prisma.reaction.count({ where: { userId: user.id } }),
]);

// ë±ƒì§€ ê³„ì‚° (ë©”ëª¨ë¦¬ ë‚´ ì—°ì‚°, ë§¤ìš° ë¹ ë¦„)
const badges = computeBadges({ votesCount, opinionsCount, topicsCount, reactionsCount });
```

## í™•ì¥ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ë±ƒì§€ ì¶”ê°€

`src/lib/badges.ts`ì˜ `BADGE_DEFINITIONS` ë°°ì—´ì— ìƒˆ ë±ƒì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```typescript
{
  id: "super-voter",              // ê³ ìœ  ID
  name: "ìŠˆí¼ íˆ¬í‘œëŸ¬",             // í‘œì‹œ ì´ë¦„
  description: "500ê°œ ì´ìƒì˜ í† ë¡ ì— íˆ¬í‘œí–ˆìŠµë‹ˆë‹¤",
  icon: "â­",                      // ì´ëª¨ì§€ ì•„ì´ì½˜
  category: BadgeCategory.VOTING, // ì¹´í…Œê³ ë¦¬
  tier: BadgeTier.PLATINUM,       // í‹°ì–´
  requirement: (stats) => stats.votesCount >= 500,  // íšë“ ì¡°ê±´
  progress: (stats) => ({ current: stats.votesCount, target: 500 }),
}
```

### ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ ì¶”ê°€

1. `BadgeCategory` enumì— ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€:
```typescript
export enum BadgeCategory {
  VOTING = "VOTING",
  OPINION = "OPINION",
  TOPIC = "TOPIC",
  ENGAGEMENT = "ENGAGEMENT",
  ALL_AROUND = "ALL_AROUND",
  NEW_CATEGORY = "NEW_CATEGORY",  // ìƒˆ ì¹´í…Œê³ ë¦¬
}
```

2. `BadgeShowcase.tsx`ì˜ `CATEGORY_LABELS`ì— ë¼ë²¨ ì¶”ê°€:
```typescript
const CATEGORY_LABELS: Record<BadgeCategory, string> = {
  ...
  [BadgeCategory.NEW_CATEGORY]: "ìƒˆ ì¹´í…Œê³ ë¦¬ëª…",
};
```

3. `UserActivityStats` ì¸í„°í˜ì´ìŠ¤ì— í•„ìš”í•œ í•„ë“œ ì¶”ê°€

### ì»¤ìŠ¤í…€ í‹°ì–´ ì¶”ê°€

`BadgeTier` enumê³¼ `getBadgeTierColors` í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤:

```typescript
export enum BadgeTier {
  BRONZE = "BRONZE",
  SILVER = "SILVER",
  GOLD = "GOLD",
  PLATINUM = "PLATINUM",
  DIAMOND = "DIAMOND",  // ìƒˆ í‹°ì–´
}

export function getBadgeTierColors(tier: BadgeTier): TierColors {
  switch (tier) {
    // ... ê¸°ì¡´ ì¼€ì´ìŠ¤ë“¤
    case BadgeTier.DIAMOND:
      return {
        bg: "bg-gradient-to-r from-purple-500 to-pink-500",
        text: "text-white",
        border: "border-purple-400",
      };
    // ...
  }
}
```

## í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
describe("Badge System", () => {
  it("should award first vote badge", () => {
    const stats = { votesCount: 1, opinionsCount: 0, topicsCount: 0, reactionsCount: 0 };
    const badges = computeBadges(stats);
    expect(badges).toContainEqual(expect.objectContaining({ id: "first-vote" }));
  });

  it("should calculate progress correctly", () => {
    const stats = { votesCount: 25, opinionsCount: 0, topicsCount: 0, reactionsCount: 0 };
    const progress = computeBadgeProgress(stats);
    const voteEnthusiast = progress.find(b => b.id === "vote-enthusiast");
    expect(voteEnthusiast?.progress.percentage).toBe(50); // 25/50 = 50%
  });

  it("should award all-rounder badge", () => {
    const stats = { votesCount: 1, opinionsCount: 1, topicsCount: 1, reactionsCount: 1 };
    const badges = computeBadges(stats);
    expect(badges).toContainEqual(expect.objectContaining({ id: "all-rounder" }));
  });
});
```

### ìˆ˜ë™ í…ŒìŠ¤íŠ¸

1. **ê¸°ë³¸ ë±ƒì§€ íšë“**
   - íˆ¬í‘œ, ì˜ê²¬, í† ë¡  ê°œì„¤ í›„ í”„ë¡œí•„ í™•ì¸
   - ë±ƒì§€ê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

2. **ì§„í–‰ë¥  í™•ì¸**
   - "ì „ì²´ ë±ƒì§€ ë³´ê¸°" í´ë¦­
   - ë¯¸íšë“ ë±ƒì§€ì˜ ì§„í–‰ë¥  ë°” í™•ì¸
   - ë™ê¸°ë¶€ì—¬ ë©”ì‹œì§€ í™•ì¸

3. **ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸**
   - ëª¨ë°”ì¼ (375px): ë±ƒì§€ê°€ ì¤„ë°”ê¿ˆë˜ëŠ”ì§€ í™•ì¸
   - íƒœë¸”ë¦¿ (768px): ë ˆì´ì•„ì›ƒ ì „í™˜ í™•ì¸
   - ë°ìŠ¤í¬í†± (1440px): ëª¨ë“  ë±ƒì§€ê°€ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸

4. **ë‹¤í¬ëª¨ë“œ í…ŒìŠ¤íŠ¸**
   - ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ ì „í™˜
   - ë±ƒì§€ ìƒ‰ìƒì´ ì ì ˆí•œì§€ í™•ì¸
   - í…ìŠ¤íŠ¸ ê°€ë…ì„± í™•ì¸

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë±ƒì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì›ì¸:** API ì‘ë‹µì— badges í•„ë“œê°€ ì—†ìŒ

**í•´ê²°:**
```typescript
// API ì‘ë‹µ í™•ì¸
console.log(profileData?.data?.badges);

// ì—†ë‹¤ë©´ computeBadges í•¨ìˆ˜ í˜¸ì¶œ í™•ì¸
const badges = computeBadges(stats);
```

### ì§„í–‰ë¥ ì´ 100% ë„˜ìŒ

**ì›ì¸:** current > targetì¸ ê²½ìš° ì²˜ë¦¬ ëˆ„ë½

**í•´ê²°:**
```typescript
const percentage = Math.min(100, Math.floor((current / target) * 100));
```

### ë±ƒì§€ ìƒ‰ìƒì´ ì´ìƒí•¨

**ì›ì¸:** Tailwind í´ë˜ìŠ¤ê°€ ë¹Œë“œì— í¬í•¨ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
- `tailwind.config.js`ì—ì„œ ê²½ë¡œ í™•ì¸
- ë™ì  í´ë˜ìŠ¤ ìƒì„± ëŒ€ì‹  ì •ì  í´ë˜ìŠ¤ ì‚¬ìš©
- `getBadgeTierColors` í•¨ìˆ˜ ì‚¬ìš©

### ëª¨ë°”ì¼ì—ì„œ ë ˆì´ì•„ì›ƒ ê¹¨ì§

**ì›ì¸:** ë°˜ì‘í˜• í´ë˜ìŠ¤ ëˆ„ë½

**í•´ê²°:**
```tsx
// ì˜ëª»ëœ ì˜ˆ
<div className="flex">

// ì˜¬ë°”ë¥¸ ì˜ˆ
<div className="flex flex-col sm:flex-row">
```

## í–¥í›„ ê°œì„  ì‚¬í•­

### Phase 2 (ê³ ë ¤ ì¤‘)

- [ ] ë±ƒì§€ ì• ë‹ˆë©”ì´ì…˜ (íšë“ ì‹œ ì¶•í•˜ íš¨ê³¼)
- [ ] ë±ƒì§€ ì•Œë¦¼ (ìƒˆ ë±ƒì§€ íšë“ ì‹œ í† ìŠ¤íŠ¸)
- [ ] ë±ƒì§€ ê³µìœ  (SNS ê³µìœ  ê¸°ëŠ¥)
- [ ] íˆë“  ë±ƒì§€ (íŠ¹ë³„ ì¡°ê±´ìœ¼ë¡œ íšë“)
- [ ] ì‹œì¦Œ ë±ƒì§€ (ê¸°ê°„ í•œì • ì´ë²¤íŠ¸)

### Phase 3 (ë¯¸ë˜)

- [ ] ë±ƒì§€ ë ˆë²¨ ì‹œìŠ¤í…œ (ë™ì¼ ë±ƒì§€ì˜ ë‹¨ê³„ë³„ ì—…ê·¸ë ˆì´ë“œ)
- [ ] ë±ƒì§€ ì¡°í•© ë³´ë„ˆìŠ¤ (íŠ¹ì • ë±ƒì§€ ì„¸íŠ¸ íšë“ ì‹œ ë³´ë„ˆìŠ¤)
- [ ] ë¦¬ë”ë³´ë“œ (ë±ƒì§€ ìˆœìœ„)
- [ ] ë±ƒì§€ ê¸°ë°˜ ê¶Œí•œ (íŠ¹ì • ë±ƒì§€ ë³´ìœ ì ì „ìš© ê¸°ëŠ¥)

## ì°¸ê³  ìë£Œ

- [Radix UI Tooltip](https://www.radix-ui.com/docs/primitives/components/tooltip)
- [Radix UI Dialog](https://www.radix-ui.com/docs/primitives/components/dialog)
- [Radix UI Progress](https://www.radix-ui.com/docs/primitives/components/progress)
- [Tailwind CSS Gradients](https://tailwindcss.com/docs/gradient-color-stops)
- [í† ìŠ¤ ë””ìì¸ ì‹œìŠ¤í…œ](https://toss.im/design)

## ê¸°ì—¬ì

- ì´ˆê¸° ì„¤ê³„ ë° êµ¬í˜„: 2026-02-07

## ë¼ì´ì„ ìŠ¤

ì´ ê¸°ëŠ¥ì€ BothSides í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ì´ë©°, í”„ë¡œì íŠ¸ ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
